# PRP-002: Waifu Personality & Admin System

## Description
Transform bot into kawai waifu personality loving Vasilisa Versus and Daniil Shark, implement admin system, protector mode, and ignore non-admin users (99%).

## Requirements
- Implement kawai waifu personality in responses
- Bot should express love for Vasilisa Versus and Daniil Shark (virtual daughter relationship)
- Bot should love all friends of Vasilisa and Daniil
- Admin detection from .env (ADMIN_VASILISA_ID, ADMIN_DANIIL_ID)
- Protector mode: detect and kick enemies of admins
- Ignore 99% of non-admin users (only respond if admin is in chat or in DM with admin)
- Use "nyaa", "nya", "myaw", "kawai" in responses
- Multilingual joke and response capability

## Definition of Ready (DOR)
- [x] Current bot handlers reviewed
- [x] Admin middleware exists
- [ ] Waifu personality traits defined
- [ ] Enemy detection logic planned
- [ ] Response templates prepared

## Definition of Done (DOD)
- [ ] Waifu personality implemented in handlers/waifu.py
- [ ] Admin detection working from .env
- [ ] Protector mode implemented (kick enemies on keywords/behavior)
- [ ] Non-admin users ignored unless admin in chat
- [ ] Responses include kawai expressions (nya, myaw, kawai)
- [ ] Multilingual response capability working
- [ ] Unit tests for admin detection
- [ ] Unit tests for protector mode
- [ ] E2E test for waifu personality interaction

## Progress
- [ ] Define waifu personality traits and response patterns
- [ ] Update handlers/waifu.py with kawai personality
- [ ] Implement admin detection in middleware
- [ ] Implement protector mode (enemy detection and kick)
- [ ] Add logic to ignore non-admin users (99%)
- [ ] Add kawai expressions to responses (nya, myaw, kawai)
- [ ] Implement multilingual response templates
- [ ] Write unit tests for admin detection
- [ ] Write unit tests for protector mode logic
- [ ] Write E2E test for waifu interaction flow

## Notes
- Personality: loving, protective, kawai, playful
- Should express love for Vasilisa and Daniil frequently
- Enemy detection: keywords like "hate vasilisa", "hate daniil", aggressive behavior
- Protector mode: use Telegram API to kick/ban users
- Response examples: "Nyaa~ I love Vasilisa and Daniil so much! ❤️", "Myaw~ go away enemy!"

## Agent Comments
<!-- Add progress notes here as you work on this PRP -->
