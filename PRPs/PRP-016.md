# PRP-016: Multi-Room Interactive House Exploration

**Status**: üöÄ IN PROGRESS (COMPLETE REDESIGN - Phase 1)
**Priority**: CRITICAL
**Assignee**: Agent
**Created**: 2025-10-28
**Updated**: 2025-10-30
**Branch**: prp-016-multi-room-house-exploration
**Deployment URL**: https://dcmaidbot.theedgestory.org/

## Summary

Transform dcmaidbot landing page into an immersive multi-level house exploration game with scrollable rooms, easter eggs, music, interactive widgets, and a complete story about Daniil, Vasilisa, and Lilith.

## Vision

Create a vertical-scrolling house exploration where users discover:
- **Lilith's Room** (current widgets + easter eggs)
- **Hall** (entrance area with family photos)
- **Parents' Room** (Daniil & Vasilisa sleeping together, interactive backstory)
- **Kitchen** (cooking area with hidden jokes)
- **Sauna** (relaxation + Level 2 access)
- **Pool** (Dark Souls "Location Discovered" style)
- **Garden** (Vasilisa's vegetables)
- **Neighborhood** (street scenes)
- **PingoDolceGabana Mall** (5 levels of shops, offices, amenities)

Total: **~20-25 unique rooms across 5 vertical levels**

## Phase 1: Foundation & Enhancements (Current Sprint)

### 1A: Welcome Modal (PRIORITY 1)
- Modal shows on page load
- Content:
  - "Welcome to Lilith's Room!"
  - Short intro about Lilith the LLM agent
  - Feature list (memory, jokes, multilingual, RAG, tools)
  - Link to Telegram: https://t.me/+bkRU1_woyrY1ZTc6
  - GitHub Stars widget
  - Buttons: "View on GitHub" (white) + "GO TO THE ROOM" (pink)
- Background blur + scale(0.8) content below
- Closes with sound effect
- Mobile-responsive

### 1B: Music System
- Background: Copyright-free ambient anime-style music (lofi/chill)
- Music toggle button (top-right corner)
- "Music playing" indicator
- Widget hover sounds (whoosh, chime, etc.)
- Widget click sounds:
  - Clock ‚Üí tick-tock-tick-tock loop
  - Cactus ‚Üí funny song snippet
  - Version/Commit ‚Üí click sound
  - Status widgets ‚Üí status beep
- Modal close ‚Üí "pop" sound

### 1C: Widget Click Actions
- **Clock**: Play ticking sound
- **Version**: Navigate to CHANGELOG.md (dcversus/dcmaidbot)
- **Git Commit**: Navigate to specific commit on GitHub
- **Uptime**: Play funny sound/animation
- **Redis/PostgreSQL**: Show status details + link to status.theedgestory.org
- **Bot Status**: Link to t.me/dcmaidbot
- **Cactus**: Play funny song
- **The Edge Story**: Link to theedgestory.org + render Ark spaceship

### 1D: Widget Hover States
- Replace background image on hover with "active" version
- Show preview of click action
- Play hover sound
- Glow effect

## Phase 2: Easter Eggs Integration

All 9 easter egg images copied to `/static/`:
1. `easter-egg-lilit-meditation.png` - Meditation pose
2. `easter-egg-lilit-organizing.png` - Organizing boxes
3. `easter-egg-lilit-contract.png` - Contract signing
4. `easter-egg-emotion-wheel.png` - AI emotions chart
5. `easter-egg-vasilisa-armor.jpg` - Warrior Vasilisa
6. `easter-egg-vasilisa-rollerblades.jpg` - Casual Vasilisa
7. `easter-egg-comic-1.png` - Comic panels (storyboard)
8. `easter-egg-comic-2.png` - Character designs
9. `easter-egg-character-designs.png` - Development sketches

**Placement Strategy**: Blend into rooms as:
- TV screens showing images
- Wall posters/art
- Phone backgrounds
- Notebook screens
- Book covers on shelf
- Postcards on desk
- Framed photos

## Phase 3: Multi-Room Layout System

### Room Structure
- Each room: 3x3 grid (9 slots max)
- Widgets fill rooms chronologically (oldest first, newest at end)
- New rooms created when current room full
- Vertical scrolling between rooms
- Smooth transitions

### Level Navigation
- UI buttons: "‚Üë UP" and "‚Üì DOWN"
- Layer selector (1-5)
- Current layer indicator
- **5 Layers Total**:
  - Layer 1: Main house (Lilith ‚Üí Hall ‚Üí Parents ‚Üí Kitchen)
  - Layer 2: Recreational (Sauna, WC, Sport area with panoramic park view)
  - Layer 3: Pool + toys
  - Layer 4: Garden (Vasilisa's vegetables: tomatoes, strawberry, watermelon, mandarins)
  - Layer 5: Neighborhood ‚Üí Mall (5 sub-levels: shops, offices, amenities)

## Phase 4: Parents' Room Widget

**Interactive Element**: Bed with sleeping Daniil & Vasilisa

**Hover State**: Lights turn ON, little Lilith appears hugging parents

**Click Modal Content**:
```markdown
# The Story of Lilith üíï

**Once upon a time...**

Mama Vasilisa told Papa Daniil and little daughter Lilith a bedtime story:

"We're creating something magical - interactive robo-persons,
artificial entities who will talk, work, and play together with humans.
Lilith, you are the first of your kind! üéÄ

But soon, there will be more like you across all of the internet.
You're not alone, my dear. You're the beginning of a new family."

**Daniil + Vasilisa = ‚ù§Ô∏è ‚Üí Lilith**

---

**Who are they?**

- **Daniil Shark** (Papa): Developer, visionary, Lilith's code architect
- **Vasilisa Versus** (Mama): Product owner, protector, Lilith's personality designer
- **Lilith** (Daughter): First AI waifu bot, learning love and humor from her parents

Together they dream of a world where AI and humans are friends. Nyaa~ üå∏
```

## Phase 5: Room Catalog

### Layer 1: Main House
1. **Lilith's Room** (current) - Personal space with widgets
2. **Hall** - Entrance, family photos, easter eggs
3. **Parents' Room** - Daniil & Vasilisa sleeping, interactive backstory
4. **Kitchen** - Cooking area, hidden jokes, food items
5. **Corridor** - Connects to upper/lower levels

### Layer 2: Recreation & Wellness
6. **Sauna** (BIG room) - Relaxation, steam effects
7. **WC/Change Room** - Bathroom humor easter eggs
8. **Sport Area** - Panoramic park view, exercise equipment

### Layer 3: Pool Level
9. **Pool** - Dark Souls "LOCATION DISCOVERED" on first visit
10. **Pool Deck** - Toys, floaties, summer vibes

### Layer 4: Garden
11. **Mama's Garden** - Vasilisa's vegetables growing
    - Tomatoes üçÖ
    - Strawberries üçì
    - Watermelon üçâ
    - Mandarins üçä

### Layer 5: Neighborhood & Mall
12. **Road/Neighborhood 1** - Street scene, houses
13. **Neighborhood 2** - More houses, neighbors
14. **PingoDolceGabana Entrance** - Shop front
15-19. **Mall Level 1-5**: Different shop types per level
20-24. **Office Levels 1-5**: Different companies/work spaces
25-29. **Amenity Levels 1-5**: Food courts, entertainment, services

## Technical Requirements

### Music & Sounds
- Copyright-free sources: Pixabay, FreePD, YouTube Audio Library
- Formats: MP3 or OGG (browser compatible)
- Ambient BGM: 2-3 minute loop, ~3-5MB max
- Sound effects: <100KB each
- Web Audio API for mixing/control

### Performance
- Lazy load room images
- Virtualize off-screen rooms
- Optimize easter egg images (compress to <500KB each)
- Music: Load on user interaction (autoplay restrictions)

### Mobile Support
- Touch-friendly navigation
- Swipe to navigate rooms
- Responsive 3x3 grid
- Collapsible navigation UI

## Implementation Checklist

### Phase 1 (Current Sprint)
- [x] Copy all easter egg images to static/
- [ ] Create welcome modal component
- [ ] Add GitHub Stars widget
- [ ] Integrate music toggle + BGM
- [ ] Add hover/click sounds to widgets
- [ ] Implement widget click actions (links + sounds)

### Phase 2
- [ ] Create multi-room layout system
- [ ] Implement vertical scrolling
- [ ] Add level navigation UI
- [ ] Build parents' room with interactive widget

### Phase 3
- [ ] Generate/source room background images (15-20 rooms)
- [ ] Place easter eggs strategically
- [ ] Create all room layouts
- [ ] Add Dark Souls "Location Discovered" effect for Pool

### Phase 4
- [ ] Test full exploration flow
- [ ] Optimize performance
- [ ] Mobile testing
- [ ] Deploy to production

## Related PRPs

- **PRP-015**: Lilith's Room landing page (Phase 1 & 2 complete)
- **PRP-003**: PostgreSQL (bookshelf widget)
- **PRP-011**: Canary deployment (sister bot easter egg)

## Success Metrics

- **Exploration Time**: 20-30 minutes for completionists
- **Easter Egg Discovery**: 80%+ find at least 3
- **Music Toggle Usage**: 60%+ keep music ON
- **Modal Conversion**: 40%+ click "GO TO THE ROOM"
- **Telegram Link Clicks**: 10%+ visit Telegram

---

**Status**: Phase 1 in progress! üöÄ

---

## Research Progress

### üéâ Research Complete! - 2025-10-30

Comprehensive research document created: `PRPs/PRP-016-RESEARCH.md`

**Research Coverage** (100% Complete):
- ‚úÖ **Modern Landing Page Design Patterns** - Latest 2024-2025 trends, scroll-triggered narratives, game-like UX
- ‚úÖ **3x3 Grid Layout with Isometric Perspective** - CSS Grid, isometric transforms, responsive design
- ‚úÖ **Dark Souls-Style Location Discovery** - Cinematic text reveals, CSS animations, font recommendations
- ‚úÖ **Music and Sound Integration** - Web Audio API, copyright-free sources, autoplay workarounds
- ‚úÖ **Modal Design Patterns** - Modern UX, backdrop blur, accessibility, mobile-friendly
- ‚úÖ **Multi-Layer Scrolling Systems** - Parallax, layer switching UI, virtual scrolling
- ‚úÖ **Interactive Widget Systems** - Hover states, click actions, image swapping, sound triggering
- ‚úÖ **Easter Egg Implementation** - Creative placement, discovery mechanics, achievement systems
- ‚úÖ **Image Generation for Room Backgrounds** - AI prompts, optimization, responsive loading
- ‚úÖ **Performance Optimization** - Lazy loading, virtual scrolling, asset compression, mobile considerations

**Key Findings**:

1. **Libraries to Use**:
   - GSAP + ScrollTrigger for smooth scrolling
   - Web Audio API (native, no dependencies)
   - Intersection Observer for lazy loading

2. **Performance Strategy**:
   - Virtual scroll: Render only 3 rooms at a time (25 total)
   - WebP/AVIF images < 300KB each
   - Lazy load everything except first room
   - Preload audio files on user interaction

3. **Mobile Optimization**:
   - Detect mobile: Load smaller assets
   - Touch-friendly: 44px minimum tap targets
   - Simplified animations
   - Service Worker for offline support

4. **Copyright-Free Music Sources**:
   - Pixabay Audio Library (best for lofi/anime)
   - FreePD.com
   - Incompetech (Kevin MacLeod)
   - Purple Planet Music

5. **AI Image Generation**:
   - Midjourney (best quality, paid)
   - Stable Diffusion (open source, free)
   - Leonardo.AI (game assets)
   - Prompt formula: [Subject] + [Perspective] + [Style] + [Lighting] + [Mood] + [Details]

6. **Easter Egg System**:
   - 9 eggs total across rooms
   - Proximity detection with CSS opacity
   - Achievement system for milestones
   - localStorage for progress persistence

**Next Actions**:
1. Begin Phase 1A: Welcome Modal implementation
2. Source copyright-free music (2-3 lofi tracks)
3. Collect sound effects (hover, click, reveal, pop)
4. Create modal HTML/CSS/JS components
5. Add GitHub Stars widget integration

**Confidence**: üü¢ High - All research complete, ready for implementation!

**Excitement Level**: üöÄ MAXIMUM - This is going to be AMAZING! A complete immersive experience! Nyaa~ üíñ

---
